{"version":3,"sources":["static/card-light.png","static/shop-light.png","static/ATM-light.png","context/index.js","utils/paymentMethods.js","components/PayByCredit.js","components/PayByShop.js","components/PayByAtm.js","components/PaymentCard.js","pages/PaymentSelect.js","pages/PaymentFinish.js","reducer/index.js","utils/index.js","App.js","index.js"],"names":["module","exports","PaymentContext","createContext","paymentMethods","name","texts","img","imgCard","schema","email","creditNumber","expireMonth","expireYear","cvv","imgShop","shopName","imgATM","bankName","PayByCredit","method","useContext","paymentData","paymentDispatcher","setCreditData","useCallback","setterWithPrevState","formData","onFormChange","e","value","target","prev","inputName","split","inputIndex","Array","isArray","parseInt","length","document","querySelector","focus","newCredit","className","type","onChange","autoComplete","maxLength","placeholder","PayByShop","shopSetter","latestData","setShopData","id","htmlFor","PayByAtm","atmSetter","setAtmData","PaymentCard","payment","withRouter","history","useState","methods","currentMethod","setCurrentMethod","useEffect","map","index","onClick","currentMethodEntity","filter","onMethodClick","key","src","alt","text","to","msgFadeOut","setTimeout","msgSuccess","current","style","opacity","display","clearTimeout","useRef","ref","goBack","PaymentFormReducer","state","action","console","log","debounce","fn","time","timeout","functionCall","apply","arguments","paymentFormInit","App","useReducer","Provider","path","exact","component","PaymentSelect","PaymentFinish","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.80218310.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/card-light.c4ed4c04.png\";","module.exports = __webpack_public_path__ + \"static/media/shop-light.56e31c57.png\";","module.exports = __webpack_public_path__ + \"static/media/ATM-light.b6736345.png\";","import  {createContext} from 'react'\n\nexport let PaymentContext = createContext({})","import imgCard from  '../static/card-light.png'\nimport imgShop from '../static/shop-light.png'\nimport imgATM from '../static/ATM-light.png'\n\nexport let paymentMethods = [{\n    name: 'credit', \n    texts:['信用卡','刷卡'],\n    img:imgCard,\n    schema:{\n      email:'', \n      creditNumber:['','','',''],\n      expireMonth:'',\n      expireYear:'',\n      cvv:''\n    }\n  },\n  {\n    name:'shop',\n    texts:['超商代碼','繳費'],\n    img:imgShop,\n    schema:{\n      email:'', \n      shopName:'family' , //family / 7-11\n    }\n  },\n  {\n    name:'atm',\n    texts:['ATM','轉帳'],\n    img:imgATM,\n    schema:{\n      email:'',\n      bankName:'esun' // esun / twbank / twnew  \n    } \n  }]","import React,{useContext,useCallback}  from \"react\"\nimport {PaymentContext} from '../context'\n  \nlet PayByCredit = ({method}) =>{\n    let { paymentData,paymentDispatcher} = useContext(PaymentContext) \n    \n    let setCreditData = useCallback(\n        (setterWithPrevState)=>{\n            let formData = setterWithPrevState(paymentData.formData) \n            paymentDispatcher({method,formData})\n        },[method, paymentData, paymentDispatcher])\n\n    let  onFormChange = (e)=>{\n        let value = e.target.value\n        let name = e.target.name\n        setCreditData(prev=>{\n             let inputName = name.split('-')[0]\n             let inputIndex = name.split('-')[1]\n                \n             if( Array.isArray(prev[inputName])   && inputIndex){\n                 if((parseInt(inputIndex)+1)<=3 &&  value.length===4 ){\n                     let nextCreditInput = document.querySelector(`input[name=\"${inputName+'-'+(parseInt(inputIndex)+1)}\"]`)\n                     nextCreditInput.focus()\n                 }else{\n\n                 }\n                let newCredit = prev[inputName]\n                newCredit[inputIndex] = value\n                return {...prev , creditNumber:newCredit}\n             }else{\n                return {...prev,[inputName]:value }\n             }\n             \n        })\n    }\n    \n    return (\n        <>\n        <div className=\"form-group\">\n            <label >付款人信箱</label>\n            <input type=\"email\" name=\"email\" onChange={onFormChange}  /> \n        </div>\n        <div className=\"form-credit form-group\">\n                <label> 信用卡卡號：</label>\n                <input type=\"text\" \n                       name=\"creditNumber-0\" \n                       autoComplete=\"off\"\n                       maxLength=\"4\"\n                       onChange={onFormChange} />\n\n                <span className=\"separater\"> - </span>\n\n                <input  type=\"text\" \n                        name=\"creditNumber-1\" \n                        autoComplete=\"off\"\n                        maxLength=\"4\" \n                        onChange={onFormChange}/>          \n\n                <span className=\"separater\"> - </span>\n                <input  type=\"text\" \n                        name=\"creditNumber-2\" \n                        autoComplete=\"off\"\n                        maxLength=\"4\" \n                        onChange={onFormChange}/>   \n                <span className=\"separater\"> - </span>\n                <input  type=\"text\" \n                        name=\"creditNumber-3\" \n                        autoComplete=\"off\"\n                        maxLength=\"4\" \n                        onChange={onFormChange}/>   \n                <span className=\"visa\">\n                    VISA\n                </span>\n        </div>\n        <div className=\"form-expire form-group\">\n            <label> 有效年月：</label> \n            <input type=\"text\" \n                   name=\"expireMonth\"\n                   placeholder=\"MM\" \n                   onChange={onFormChange}\n                   maxLength=\"2\"/>\n            <span className=\"separater-expire\"> \n                月  \n                <span>/  </span>\n            </span>\n            <input type=\"text\" \n                   placeholder=\"YYYY\" \n                   name=\"expireYear\"\n                   onChange={onFormChange}\n                   maxLength=\"4\"\n                   />\n            <span className=\"separater-expire\"> 年 </span>\n        </div>\n        <div className=\"form-expire form-group form-cvv\">\n            <label> 背後末三碼 </label> \n            <input type=\"text\" \n                   name=\"cvv\"\n                   onChange={onFormChange}\n                   placeholder=\"CVV\"  \n                   maxLength=\"3\"/>\n        </div>\n        </>\n    )\n} \n\nexport default PayByCredit","import React,{useContext} from \"react\"\nimport {PaymentContext} from '../context'\n\nlet PayByShop = ({method}) =>{\n    let {paymentData,paymentDispatcher} = useContext(PaymentContext) \n    \n    let setShopData = (shopSetter)=>{\n        let latestData = shopSetter(paymentData.formData) \n        paymentDispatcher({method,formData:latestData}) \n    }\n    let onFormChange = (e) => {\n        let name = e.target.name \n        let value = e.target.value \n        setShopData(prev=>{ \n             \n             return {...prev,[name]:value}   \n        })\n    }\n\n    return (\n        <>\n            <div className=\"form-group mb-4\">\n                <label> 付款人信箱 </label> \n                <input type=\"text\" \n                    name=\"email\"\n                    onChange={onFormChange}\n                    placeholder=\"Email\"  />\n            </div>\n            <div className=\"form-group mb-4\">\n                <label> 選擇銀行 </label> \n                <div className=\"d-flex justify-content-between\">\n                    <div className=\"form-check\">\n                    <input className=\"form-check-input\" \n                               type=\"radio\" \n                               name=\"shopName\" \n                               id=\"shop-family\" \n                            //    checked={shopData.name==='family'? true :''}\n                               onChange={onFormChange}\n                               value=\"family\"/>\n\n                        <label className=\"form-check-label\" htmlFor=\"shop-family\">\n                           全家\n                        </label>\n                    </div>\n                    <div className=\"form-check\">\n                       \n                        <input className=\"form-check-input\" \n                               type=\"radio\" \n                               name=\"shopName\" \n                               id=\"shop-7-11\" \n                               \n                               onChange={onFormChange}\n                               value=\"7-11\"/>\n\n                        <label className=\"form-check-label\" htmlFor=\"shop-7-11\">\n                            7-11\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <ul className=\"info-list\">\n                <li> 1.請參考繳費流程：全家、7-11。</li>\n                <li> 2.需24小時內完成繳費才算交易成功。</li>\n                <li> 3.結帳金額已含超商付費的 18 元手續費。</li>\n            </ul>\n            \n        </>\n    )\n} \n\nexport default PayByShop","import React ,{useContext} from \"react\"\nimport {PaymentContext} from '../context'\n\nlet PayByAtm = ({method}) =>{\n    let {paymentData,paymentDispatcher} = useContext(PaymentContext) \n    let setAtmData = (atmSetter)=>{\n        let latestData = atmSetter(paymentData.formData) \n        paymentDispatcher({method,formData:latestData}) \n    }\n    let onFormChange = (e) => {\n        let name = e.target.name \n        let value = e.target.value \n        setAtmData(prev=>{ \n             return {...prev,[name]:value}   \n        })\n    }\n    return (\n        <>\n        <div className=\"form-group mb-4\">\n            <label> 付款人信箱 </label> \n            <input type=\"text\" \n                name=\"email\"\n                onChange={onFormChange}\n                placeholder=\"Email\"  />\n        </div>\n        <div className=\"form-group mb-4\">\n            <label> 選擇銀行 </label> \n            <div className=\"d-flex justify-content-between\">\n                <div className=\"form-check\">\n                <input className=\"form-check-input\" \n                            onChange={onFormChange}\n                           type=\"radio\" \n                           name=\"bankName\" \n                           id=\"bank-esun\" \n                           value=\"esun\"/>\n                    <label className=\"form-check-label\" htmlFor=\"bank-esun\">\n                       玉山銀行\n                    </label>\n                </div>\n                <div className=\"form-check\">\n                   \n                    <input className=\"form-check-input\" \n                            onChange={onFormChange}\n                           type=\"radio\" \n                           name=\"bankName\" \n                           id=\"bank-twbank\" \n                           value=\"twbank\"/>\n                    <label className=\"form-check-label\" htmlFor=\"bank-twbank\">\n                        台灣銀行 \n                    </label>\n                </div>\n                <div className=\"form-check\">\n                   \n                    <input className=\"form-check-input\" \n                            onChange={onFormChange}\n                           type=\"radio\" \n                           name=\"bankName\" \n                           id=\"bank-twnew\" \n                           value=\"twnew\"/>\n                    <label className=\"form-check-label\" htmlFor=\"bank-twnew\">\n                        台新銀行\n                    </label>\n                </div>\n            </div>\n        </div>\n        <ul className=\"info-list\">\n            <li> 1.如果您持有以上金融機構發行之金融卡，可選擇該金融機構轉帳帳號，可選擇該金融機構轉帳帳號，可享省下銀行轉帳手續費。</li>\n            <li> 2.需24小時內完成繳費才算交易成功。</li>\n        </ul>\n        \n    </>\n    )\n} \n\nexport default PayByAtm","import  React from 'react'\nimport PayByCredit from './PayByCredit'\nimport PayByShop from './PayByShop'\nimport PayByAtm from './PayByAtm'\nlet PaymentCard = function({payment}){\n    \n    return (\n    <>\n        {\n            (()=>{\n                switch(payment){\n                    case 'credit': \n                        return   <PayByCredit method={payment}/>\n                    case 'shop': \n                        return   <PayByShop method={payment}/>\n                    case 'atm': \n                        return   <PayByAtm method={payment}/>\n                    default :\n                        return <h1> No Method Has Been Selected.</h1>\n                }\n            })()\n        }     \n    </>)\n}\n\nexport default PaymentCard","import React,{useState,useContext,useEffect} from 'react'\n\nimport {PaymentContext} from '../context'\nimport {paymentMethods as methods} from '../utils/paymentMethods'\nimport PaymentCard from '../components/PaymentCard'\n\nimport { withRouter,Link } from 'react-router-dom';\n\n \nfunction IndexPage({history}) {\n  let [currentMethod,setCurrentMethod] = useState(methods[0])\n  let {paymentData,paymentDispatcher} = useContext(PaymentContext)\n   \n  useEffect(()=>{\n    paymentDispatcher({\n        method:currentMethod.name,\n        formData:currentMethod.schema\n      })\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[currentMethod ])\n  \n  let onMethodClick = (method)=>{\n    let currentMethodEntity  =  methods.filter(target=>target.name===method)[0] \n    setCurrentMethod(currentMethodEntity)    \n  }\n  \n\n  return (\n    \n     \n      <div className=\"container\"> \n        <div className=\"row m-5\"> \n          <div className=\"col-8\"> \n            <div className=\"wrapper wrapper-payment \"> \n                <div className=\"wrapper-title\"> \n                  請選擇付款方式\n                </div>\n                <div className=\"wrapper-body\">\n                    <ul className=\"tab tab-method\">\n                    {\n                      methods.map((method,index)=>{\n                        return (\n                          <li className={`card card-method ${currentMethod.name===method.name ? 'active' : ''}` }\n                              onClick={()=>{onMethodClick(method.name)}}\n                              key={index}> \n                            <div className=\"card-img\">\n                              <img src={`${method.img}`} alt=\"\"/>\n                            </div>\n                            <div className=\"card-title\"> \n                              {\n                                method.texts.map((text,index)=>(<h6 key={index}>{text}</h6>)) \n                              }\n                            </div>\n                            <div className=\"frame frame-left-top\"> </div>\n                            <div className=\"frame frame-right-top\"> </div>\n                            <div className=\"frame frame-right-bottom\"> </div>\n                            <div className=\"frame frame-left-bottom\"> </div>\n                        </li>\n                        ) \n                      }) \n                    }\n                    </ul>\n                    <div className=\"tab tab-method-page\">\n                        <PaymentCard payment={currentMethod.name}/>\n                    </div>  \n                    <Link \n                      to='/finish'\n                      // onClick={onPaymentSubmit}\n                      className=\"btn btn-teal btn-block py-3 mt-4\"> \n                      確定付款 ($1500)\n                    </Link>\n                    \n                </div>\n              \n            </div>\n            \n          </div>\n          <div className=\"col-4\">\n            <div className=\"wrapper wrapper-order p-3\"> \n                <div className=\"wrapper-title\"> \n                  我的訂單\n                </div>\n                <ul className=\"wrapper-body flex-column\">\n                  <li> \n                    \b 流浪金屬史萊姆鎧甲 x 1 \n                    <span className=\"price price-single text-teal-light\">1150</span>\n                  </li>\n                  <li>\n                      抗魔戒指 x 1\n                      <span className=\"price price-single text-teal-light\">100</span>\n                  </li>\n                  <li>\n                      萬能藥 x 3  \n                      <span className=\"price price-single text-teal-light\">270</span>\n                  </li>\n                  <li>\n                      賢者藥水 x 1 \n                      <span className=\"price price-single text-teal-light\">130</span>\n                  </li>\n\n                </ul>\n                <div className=\"order-total\">\n                  <span className=\"text-teal pl-2\"> TWD </span>\n                  <span className=\"pr-2 price price-total \">1500 </span>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n  );\n}\n \nexport default withRouter(IndexPage);","import React,{useState,useReducer,useEffect,useContext,useRef} from 'react'\nimport { withRouter } from 'react-router-dom';\nimport {PaymentContext} from '../context'\n\nlet PaymentFinish = ({history})=>{ \n    let { paymentData,paymentDispatcher} = useContext(PaymentContext) \n    let onGoBack = ()=>{\n        history.goBack()\n    }\n    useEffect(()=>{\n        let msgFadeOut = setTimeout(()=>{\n            msgSuccess.current.style.opacity='0'\n            msgSuccess.current.style.display='none'\n        },2000)\n        return ()=>{\n            clearTimeout(msgFadeOut)\n        } \n    })\n    let msgSuccess = useRef()\n    \n    return (\n       <>\n        <div className=\"my-5 row justify-content-center\"> \n            <div className=\"msg-successful\" ref={msgSuccess}>\n                SUCCESS!\n            </div>\n            <div className=\"col-6\"> \n                <div className=\"wrapper wrapper-finish\">\n                    <div className=\"wrapper-title text-teal-light mt-3\"> [ 購買成功！] </div>\n                     <div className=\"wrapper-subtitle  text-teal-light\"> 感謝您的購買 </div>\n                     <div className=\"wrapper-body\">\n                      \n                        <li> \n                            <span className=\"price-title\"> 訂單編號：</span>\n                            <span className=\"price price-single\">1150</span>\n                        </li>\n                        <li>\n                            <span className=\"price-title\"> 訂購人：</span>\n                            <span className=\"price price-single\">100</span>\n                        </li>\n                        <li>\n                            <span className=\"price-title\"> 訂購人Email：</span>\n                            <span className=\"price price-single\">270</span>\n                        </li>\n                        <li>\n                            <span className=\"price-title\"> 付款狀態：</span>\n                            <span className=\"price price-single\">已付清</span>\n                        </li>\n                        <li>\n                            <span className=\"price-title\"> 付款方式：</span>\n                            <span className=\"price price-single\">末四碼 1234 Visa信用卡</span>\n                        </li>\n                        <div className=\"devider bg-teal\"> </div>\n                        <li className=\"d-flex justify-content-between\">\n                            \n                            <span className=\"price-title\"> \b 流浪金屬史萊姆鎧甲 x 1 </span> \n                            <span className=\"price price-single text-teal-light \">1150</span>\n                        </li>\n                        <li className=\"d-flex  justify-content-between\">\n                            <span className=\"price-title\"> 抗魔戒指 x 1</span>\n                            <span className=\"price price-single text-teal-light\">100</span>\n                        </li>\n                        <li className=\"d-flex  justify-content-between\">\n                                \n                            <span className=\"price-title\"> \b 萬能藥 x 3 </span> \n                            <span className=\"price price-single text-right text-teal-light\">270</span>\n                        </li>\n                        <li className=\"d-flex justify-content-between \">\n                            \n                            <span className=\"price-title\"> \b  賢者藥水 x 1  </span> \n                            <span className=\"price price-single text-teal-light\">130</span>\n                        </li>\n                        <div className=\"devider bg-teal\"></div>\n                        <li className=\"d-flex justify-content-between \">\n                            <span className=\"pl-2 price-title text-teal-light\"> \b TWD  </span> \n                            <span className=\"pr-2 price price-total text-teal-light\">130</span>\n                        </li>\n                    </div>\n                    <div className=\"wrapper-footer\"> \n                        <div className=\"btn-order-group\">\n                        <div className=\"btn btn-order\" onClick={onGoBack}> 回首頁 </div>\n                            <div className=\"btn btn-order\"> 列印此頁面 </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n       </>\n    )\n} \n\nexport default withRouter(PaymentFinish)","\n\nexport function PaymentFormReducer(state, action){\n  console.log('action: ', action);\n      return  {\n        method:action.method,\n        formData: action.formData\n      }\n}\n","export const debounce = (fn, time)=>{\n    let timeout\n    \n    return function() {\n        const functionCall = () => fn.apply(this, arguments)\n        clearTimeout(timeout)\n        timeout = setTimeout(functionCall, time)  \n    } \n}","import React,{useReducer} from 'react'\nimport { BrowserRouter , Route } from \"react-router-dom\";\nimport PaymentSelect from './pages/PaymentSelect' \nimport PaymentFinish from './pages/PaymentFinish' \nimport {PaymentFormReducer} from './reducer' \nimport {PaymentContext} from './context'\nimport './scss/index.scss'\nimport {debounce} from './utils/index'\nimport {paymentMethods as methods} from './utils/paymentMethods'\n \nlet paymentFormInit = {\n  method: methods[0].name, \n  formData: methods[0].schema\n}\n\nfunction App() {\n  let [paymentData, paymentDispatcher] = useReducer(PaymentFormReducer,paymentFormInit) \n  paymentDispatcher = debounce(paymentDispatcher,800)\n  console.log('App')\n  return (\n    <BrowserRouter>\n    <PaymentContext.Provider value={{\n       paymentDispatcher,\n       paymentData\n       }}>\n      <Route path=\"/\" exact component={PaymentSelect}/>\n      <Route path=\"/finish\"  component={PaymentFinish}/>\n      </PaymentContext.Provider>\n    </BrowserRouter>\n  );\n}\n \nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}